## 1. 개요

플레이어는 **Room ↔ Hallway 구조의 맵**을 따라 파티를 좌우로 이동시킬 수 있어야 한다. 맵 이동은 전투 및 이벤트 발생의 트리거 역할을 한다.

---

## 2. 목적

- **던전 탐험 루프**를 완성하기 위한 최소 기능 제공
- **맵 이동 → 이벤트(전투/발견) → 다음 방**으로 이어지는 흐름 구현
- **3D 환경에서 파티 이동 연출** 제공

---

## 3. 기능 요구사항

### 3.1 맵 구조

- [REQ-MAP-01] 맵은 Room(방)과 Hallway(복도)로 구성된다.
- [REQ-MAP-02] Hallway는 Tile(타일)로 구성된다.
- [REQ-MAP-03] Room과 Tile은 전투나 이벤트 발생 지점으로 사용된다.
- [REQ-MAP-04] Hallway는 Room과 Room을 연결하는 구간이며, 타일로 구성되어 있다.
- [REQ-MAP-05] 맵 구성은 Scriptable 객체인 MapData에 저장된 데이터에 따라 구성된다.

### 3.2 파티 이동

- [REQ-MAP-05] 플레이어는 **좌/우 방향 입력**으로 파티를 이동시킬 수 있다.
- [REQ-MAP-06] 이동은 일정 속도를 가진 **3D 캐릭터 이동 애니메이션**으로 표현된다.
- [REQ-MAP-07] 파티는 Room과 Hallway의 양 끝 지점에 도달할 때마다 자동으로 정지한다.
- [REQ-MAP-08] 이동 중에는 횃불 게이지가 감소한다.

### 3.3 이벤트 트리거

- [REQ-MAP-09] 파티가 이벤트 Room에 진입하면 해당 **이벤트**가 자동으로 발생한다.
- [REQ-MAP-10] 파티가 이벤트 Tile에 진입하면 해당 이벤트가 자동으로 발생한다.
- [REQ-MAP-11] 전투 이벤트 발생 시 파티 이동은 일시 정지되고, 전투가 끝난 뒤 다시 이동 가능하다.

### 3.4 UI 요구사항

- [REQ-MAP-12] 미니맵 UI를 제공하여 현재 Room/Hallway/Tile 위치를 표시한다.
- [REQ-MAP-13] 현재 파티 위치는 미니맵 상에서 강조 표시된다.
- [REQ-MAP-14] 이동 가능 방향(좌/우)은 UI 아이콘으로 표시된다.

---

## 4. 비기능 요구사항

- [NFR-MAP-01] 이동 입력 후 0.2초 이내에 캐릭터 이동이 시작되어야 한다.
- [NFR-MAP-02] 파티 이동 애니메이션은 초당 60fps 이상 유지해야 한다.
- [NFR-MAP-03] 맵 로딩은 3초 이내에 완료되어야 한다.

---

## 5. 예외 처리

- [EXC-MAP-01] 더 이상 Room이 존재하지 않을 경우, "던전 탐험 종료" 메시지를 표시한다.
- [EXC-MAP-02] 이벤트 발생 중 이동 입력이 들어와도 무시되어야 한다.