## 1. 개요

아이템은 플레이어가 던전 탐험과 전투 중 전략적으로 사용하여 **생존과 진행을 돕는 보조 자원**이다.

아이템은 소모성 자원으로, 사용 시 즉시 효과를 발휘하거나 특정 상황에서만 사용 가능하다.

---

## 2. 목적

- 탐험 중 다양한 상황에서 **위기 대응 수단 제공**
- 자원 관리의 중요성을 강조하여 **전략적 선택** 유도
- 플레이어의 **탐험 지속 가능성** 보장

---

## 3. 아이템 종류 및 기능 요구사항

### 3.1 횃불 (Torch)

### 3.1.1 목적

던전 탐험 중 **빛(시야 확보, 적 난이도 조정, 스트레스 조절 등)**을 관리하기 위해 사용된다.

플레이어가 던전을 오래 탐험할 수 있도록 보조하며, 던전의 난이도 밸런스를 조절한다.

### 3.1.2 기능 요구사항

- [REQ-ITEM-TORCH-01] 사용 시 **횃불 게이지**가 일정량 회복된다.
- [REQ-ITEM-TORCH-02] 횃불 게이지는 **최대치를 초과할 수 없다.**
- [REQ-ITEM-TORCH-03] 사용 즉시 UI에 반영되고, 던전 내 광원 효과에 적용된다.
- [REQ-ITEM-TORCH-04] 던전 탐험 중 언제든 사용 가능하다.

### 3.1.3 예외 처리

- [EXC-ITEM-TORCH-01] 인벤토리에 횃불이 없으면 사용 불가 메시지를 출력한다.
- [EXC-ITEM-TORCH-02] 횃불 게이지가 이미 최대일 경우 "효과 없음" 메시지를 출력한다.

---

### 3.2 삽 (Shovel)

### 3.2.1 목적

던전 탐험 도중 등장하는 **장애물(돌더미, 벽 등)**을 제거하여 다음 타일 경로를 개방한다.

플레이어의 진행을 원활하게 하며, 자원 관리 요소로 전략성을 부여한다.

### 3.2.2 기능 요구사항

- [REQ-ITEM-SHOVEL-01] 탐험 중 등장하는 장애물을 제거할 수 있다.
- [REQ-ITEM-SHOVEL-02] 사용 시 장애물이 즉시 사라지고, 다음 타일 경로가 개방된다.
- [REQ-ITEM-SHOVEL-03] 전투 중에는 사용할 수 없다.
- [REQ-ITEM-SHOVEL-04] 삽이 없을 경우, 캐릭터는 **체력 감소 및 스트레스 증가 패널티**를 받는다.

### 3.2.3 예외 처리

- [EXC-ITEM-SHOVEL-01] 인벤토리에 삽이 없을 경우, 강제로 장애물을 치워야 하며 패널티가 적용된다.
- [EXC-ITEM-SHOVEL-02] 장애물이 없는 구간에서 사용 시 "사용 불가" 메시지를 출력한다.

---

### 3.3 식량 (Food)

### 3.3.1 목적

캐릭터의 **체력을 회복**하여 던전 탐험 및 전투 지속 가능성을 높인다.

또한, 특정 이벤트(캠핑, 랜덤 굶주림 이벤트)에서 파티 생존에 필요한 핵심 자원으로 활용된다.

### 3.3.2 기능 요구사항

- [REQ-ITEM-FOOD-01] 사용 시 선택된 캐릭터 1명의 체력을 일정량 회복한다.
- [REQ-ITEM-FOOD-02] 캐릭터 체력은 **최대치를 초과할 수 없다.**
- [REQ-ITEM-FOOD-03] 전투 중/탐험 중 모두 사용 가능하다.

### 3.3.3 예외 처리

- [EXC-ITEM-FOOD-01] 캐릭터 체력이 이미 최대일 경우 "효과 없음" 메시지를 출력한다.
- [EXC-ITEM-FOOD-02] 캠핑/굶주림 이벤트 시 식량이 부족하면 **체력 감소 및 스트레스 증가 패널티**가 발생한다.

---

### 3.4 해독제 (Antivenom)

### 3.4.1 목적

캐릭터가 **중독 상태**에 걸렸을 때 이를 해제하여 탐험/전투 지속 능력을 보장한다.

### 3.4.2 기능 요구사항

- [REQ-ITEM-ANTIVENOM-01] 사용 시 캐릭터 1명의 **중독 상태이상**을 즉시 해제한다.
- [REQ-ITEM-ANTIVENOM-02] 전투 중/탐험 중 모두 사용 가능하다.
- [REQ-ITEM-ANTIVENOM-03] 중독 상태가 없는 캐릭터에게 사용 시 "효과 없음" 메시지를 출력한다.
- [REQ-ITEM-ANTIVENOM-04] 특정 던전 오브젝트와 상호작용 시 추가 효과(저주 해제, 패널티 감소 등)를 제공할 수 있다.

### 3.4.3 예외 처리

- [EXC-ITEM-ANTIVENOM-01] 인벤토리에 해독제가 없는 경우 사용 불가.
- [EXC-ITEM-ANTIVENOM-02] 이미 중독이 해제된 상태일 경우 효과 없음.

---

### 3.5 붕대 (Bandage)

### 3.5.1 목적

캐릭터가 **출혈 상태**에 걸렸을 때 이를 해제하여 HP 손실을 막는다.

### 3.5.2 기능 요구사항

- [REQ-ITEM-BANDAGE-01] 사용 시 캐릭터 1명의 **출혈 상태이상**을 즉시 해제한다.
- [REQ-ITEM-BANDAGE-02] 전투 중/탐험 중 모두 사용 가능하다.
- [REQ-ITEM-BANDAGE-03] 출혈 상태가 없는 캐릭터에게 사용 시 "효과 없음" 메시지를 출력한다.

### 3.5.3 예외 처리

- [EXC-ITEM-BANDAGE-01] 출혈이 없는 상태에서 사용 시 효과 없음.

---

### 3.6 열쇠 (Key)

### 3.6.1 목적

던전 내의 **잠긴 상자**를 열어 보상을 획득하거나 진행 경로를 확보한다.

### 3.6.2 기능 요구사항

- [REQ-ITEM-KEY-01] 잠긴 상자에 사용 시 즉시 열리고 보상을 획득할 수 있다.
- [REQ-ITEM-KEY-02] 열쇠는 사용 즉시 소모된다.
- [REQ-ITEM-KEY-03] 상자를 열 때 **함정 발동 확률을 감소**시킨다 (예: 50% → 10%).
- [REQ-ITEM-KEY-04] 잠금 장치가 없는 오브젝트에 사용 시 "사용 불가" 메시지를 출력한다.

### 3.6.3 예외 처리

- [EXC-ITEM-KEY-01] 잠금 장치가 없는 상자에 사용 시 효과 없음.
- [EXC-ITEM-KEY-02] 열쇠 사용 실패 시 (버그 등) 보상 아이템은 무조건 유지되어야 함.

---

## 4. 공통 요구사항

### 4.1 획득 및 보관

- [REQ-ITEM-COMMON-01] 아이템은 던전 내 상자, 전리품, 상점 등에서 획득 가능하다.
- [REQ-ITEM-COMMON-02] 아이템은 인벤토리에서 슬롯 단위로 보관된다.
- [REQ-ITEM-COMMON-03] 아이템은 스택(중첩) 가능한 최대 수량을 가진다 (예: 횃불 ×8).

### 4.2 사용 규칙

- [REQ-ITEM-COMMON-04] 아이템 사용 시, 즉시 효과가 발동하고 인벤토리에서 1개 차감된다.
- [REQ-ITEM-COMMON-05] 아이템 개수가 0이 되면 인벤토리에서 삭제된다.
- [REQ-ITEM-COMMON-06] 잘못된 상황에서 아이템을 사용할 경우 "사용 불가" 메시지를 출력한다.
- [REQ-ITEM-COMMON-07] 아이템 효과는 UI(체력, 횃불, 상태이상 등)에 즉시 반영된다.

### 4.3 UI/UX

- [REQ-ITEM-COMMON-08] 인벤토리는 **슬롯 기반 UI**로 구성되며, 아이콘과 개수 표시가 된다.
- [REQ-ITEM-COMMON-09] 아이템 사용은 **드래그 앤 드롭** 또는 우클릭으로 가능하다.
- [REQ-ITEM-COMMON-10] 아이템 사용 시, 효과 메시지와 애니메이션(예: 횃불 불빛 강화)이 제공된다.

---

## 5. 비기능 요구사항

- [NFR-ITEM-01] 아이템 사용에 따른 UI 반영은 **0.2초 이내**에 이루어져야 한다.
- [NFR-ITEM-02] 아이템 효과는 항상 **동일한 결과**를 보장해야 한다.
- [NFR-ITEM-03] 아이템 중첩, 사용, 삭제 동작은 **데이터 무결성**을 유지해야 한다.

---

## 6. 예외 처리

- [EXC-ITEM-01] 인벤토리에 아이템이 없는 경우 사용 불가 메시지를 출력한다.
- [EXC-ITEM-02] 최대 개수(스택)를 초과하여 아이템을 획득하면 남은 아이템은 버려진다.
- [EXC-ITEM-03] 아이템 사용 시 효과가 없는 경우(예: 체력 100% 상태에서 식량 사용) "효과 없음" 메시지를 출력한다.